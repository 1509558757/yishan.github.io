---
title: web核心-Http协议
date: 2021-01-30 13:16:40
tags:
- web核心
---
### Http协议

<!--more-->

##### B/S和C/S的区别及优劣

- 第一：
  - C/S通常是建立在专用的网络或小范围的网络环境上（即局域网），且必须要安装客户端。
  - B/S是建立在广域网上的，适应范围强，通常有操作系统和浏览器就行。
- 第二：
  - C/S结构比B/S结构更安全，因为用户群相对固定，对信息的保护更强。
- 第三：
  - B/S结构维护升级比较简单，而C/S结构维护升级相对困难。

### Http协议

> 超文本传输协议。它指的是服务器和客户端之间交互必须遵循的一问一答的规则。
>
> 它规范了请求和响应内容的类型和格式。

#### 请求部分

- 请求行： 永远位于请求的第一行

- 请求消息头： 从第二行开始，到第一个空行结束

- 请求的正文： 从第一个空行后开始，到正文的结束

#### 响应部分

- 响应行： 永远位于响应的第一行

- 响应消息头： 从第二行开始，到第一个空行结束

- 响应的正文： 从第一个空行后开始，到正文的结束

### 请求部分详解

##### 请求行：`GET /myapp/2.html HTTP/1.1`

|     内容      |            说明            |
| :-----------: | :------------------------: |
|      GET      |  请求的方式。（还有POST）  |
| /myapp/2.html |        请求的资源。        |
|   HTTP/1.1    | 使用的协议，及协议的版本。 |

##### 请求消息头

| 内容                   | 说明                                                         |
| ---------------------- | ------------------------------------------------------------ |
| Accept                 | 告知服务器，客户浏览器所支持的MIME类型。                     |
| Accept-Encoding        | 告知服务器，客户浏览器所支持的压缩编码格式。最常用的就是gzip压缩。 |
| Accept-Language        | 告知服务器，客户浏览器所支持的语言。一般都是zh_CN或en_US等。 |
| Referer                | 告知服务器，当前请求的来源。<br/>只有当前请求有来源的时候，才有这个消息头。从地址栏输入的没有来源。<br/>作用：1 投放广告  2 防盗链 |
| Content-Type           | 告知服务器，请求正文的MIME类型。                             |
| Content-Length         | 告知服务器，请求正文的长度。                                 |
| User-Agent             | 浏览器相关信息                                               |
| Connection: Keep-Alive | 连接的状态：保持连接                                         |
| If-Modified-Since      | 告知服务器，客户浏览器缓存文件的最后修改时间。               |
| Cookie（********）     | 会话管理相关，非常的重要。                                   |

##### 请求正文详解

- 第一：只有post请求方式，才有请求的正文。get方式的正文是在地址栏中的。

- 第二：表单的输入域有name属性的才会被提交。

### 响应部分详解

##### 响应行：`HTTP/1.1 200 OK

| 内容     | 说明             |
| -------- | ---------------- |
| HTTP/1.1 | 使用协议的版本。 |
| 200      | 响应状态码       |
| OK       | 状态码描述       |

常用状态码介绍：

| 状态码  | 说明                                             |
| ------- | ------------------------------------------------ |
| 200     | 一切都OK                                         |
| 302/307 | 请求重定向(客户端行为，两次请求，地址栏发生改变) |
| 304     | 请求资源未发生变化，使用缓存                     |
| 404     | 请求资源未找到                                   |
| 500     | 服务器错误                                       |

##### 响应消息头详解

| 消息头                  | 说明                                                         |
| ----------------------- | ------------------------------------------------------------ |
| Location                | 请求重定向的地址，常与302,307配合使用。                      |
| Server                  | 服务器相关信息。                                             |
| Content-Type            | 告知客户浏览器，响应正文的MIME类型。                         |
| Content-Length          | 告知客户浏览器，响应正文的长度。                             |
| Content-Encoding        | 告知客户浏览器，响应正文使用的压缩编码格式。常用的gzip压缩。 |
| Content-Language        | 告知客户浏览器，响应正文的语言。zh_CN或en_US等等。           |
| Content-Disposition     | 告知客户浏览器，以下载的方式打开响应正文。                   |
| Refresh                 | 定时刷新                                                     |
| Last-Modified           | 服务器资源的最后修改时间。                                   |
| Set-Cookie（*******）   | 会话管理相关，非常的重要                                     |
| Expires:-1              | 服务器资源到客户浏览器后的缓存时间                           |
| Catch-Control: no-catch | 不要缓存，//针对http协议1.1版本                              |
| Pragma:no-catch         | 不要缓存，//针对http协议1.0版本                              |

##### 响应正文详解

就和我们在浏览器上右键查看源文件看到的内容是一样的。

