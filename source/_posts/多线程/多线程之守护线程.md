---
title: 多线程之守护线程
date: 2020-10-15 14:54:59
tags: [java基础,多线程]
---

### daemon
<!--more-->
- 线程分为用户线程和守护线程
- 虚拟机必须确保用户线程执行完毕
- 虚拟机不用等待守护线程执行完毕
- 如后台记录操作日志、监控内存使用等

    ```java
    package com.yishan.state;
    
    /**
    * 守护线程：是为用户线程服务的；jvm停止不用等待守护线程执行完毕
    * 默认：用户线程jvm等待用户线程执行完毕才会停止
    * @author : yishan
    * @date : 2020-10-15 14:58
    */
    public class DaemonTest {
        public static void main(String[] args) {
            God god = new God();
            You you = new You();
            Thread t = new Thread(god);
            t.setDaemon(true);//将用户线程调整为守护线程
            t.start();
            new Thread(you).start();
        }
    }
    ```
    


```java
    class You implements Runnable{
        @Override
        public void run() {
            for (int i=1;i<=362*100;i++){
                System.out.println("happy life..");
            }
            System.out.println("0000000....");
        }
    }

    class God implements Runnable{
        @Override
        public void run() {
            for(;true;){
                System.out.println("bless you...");
            }
        }
    }
```

### 其他方法

```java
    package com.yishan.state;

    /**
    * 其他方法
    * isAlive:线程是否还活着
    * Thread.currentThread()：当前线程
    * setName、getName：代理名称
    * @author : yishan
    * @date : 2020-10-15 15:08
    */
    public class InfoTest {
        public static void main(String[] args) throws InterruptedException {
            System.out.println(Thread.currentThread().isAlive());

            //设置名称：真实角色+代理角色
            MyInfo info = new MyInfo("战斗机");
            Thread t = new Thread(info);
            t.setName("公鸡");
            t.start();

            Thread.sleep(1000);
            System.out.println(t.isAlive());
        }
    }

    class MyInfo implements Runnable{
        private String name;

        public MyInfo(String name) {
            this.name = name;
        }

        @Override
        public void run() {
            System.out.println(Thread.currentThread().getName()+"-->"+name);
        }
    }
```
