---
title: 多线程之线程优先级
date: 2020-10-15 14:32:24
tags: [java基础,多线程]
---

### priority

java 提供了一个线程调度器来监控程序中启动后进入就绪状态的所有线程。线程调度器按照线程的优先级决定应调度哪个线程来执行。
<!--more-->
线程的优先级用数字来表示，范围从1到10：
- Thread.MIN_PRIORITY = 1
- Thread.MAX_PRIORITY = 10
- Thread.NORM_PRIORITY = 5(默认是5)

使用下列方法获得或设置线程对象的优先级：
- int getPriority();
- void setPriority(int newPriority);

优先级的设定建议在start()调用前

注意：优先级低只是意味着获得调度的概率低。并不是绝对先调用优先级高后调用优先级低的线程


```java
    package com.yishan.state;

    /**
    * Thread.MIN_PRIORITY = 1
    * Thread.MAX_PRIORITY = 10
    * Thread.NORM_PRIORITY = 5(默认)
    * @author : yishan
    * @date : 2020-10-15 14:39
    */
    public class PriorityTest {
        public static void main(String[] args) {
            System.out.println(Thread.currentThread().getPriority());

            MyPriority mp = new MyPriority();

            Thread t1 = new Thread(mp);
            Thread t2 = new Thread(mp);
            Thread t3 = new Thread(mp);
            Thread t4 = new Thread(mp);
            Thread t5 = new Thread(mp);
            Thread t6 = new Thread(mp);
```


```java
            //设置优先级在启动前
            t1.setPriority(Thread.MAX_PRIORITY);
            t2.setPriority(Thread.MAX_PRIORITY);
            t3.setPriority(Thread.MAX_PRIORITY);
            t4.setPriority(Thread.MIN_PRIORITY);
            t5.setPriority(Thread.MIN_PRIORITY);
            t6.setPriority(Thread.MIN_PRIORITY);

            t1.start();
            t2.start();
            t3.start();
            t4.start();
            t5.start();
            t6.start();
        }
    }

    class MyPriority implements Runnable{
        @Override
        public void run() {
            System.out.println(Thread.currentThread().getName()+"-->"+Thread.currentThread().getPriority());
        }
    }
```
