---
title: 设计模式之建造者模式！
date: 2020-09-24 09:44:01
tags: [java基础,设计模式]
---
### 建造者模式的本质
<!--more-->
- 分离了对象子组件的单独构造（由Builder来负责）和装配（由Director负责）。从而可以构造出复杂的对象。这个模式适用于：某个对象的构建过程复杂的情况下使用。
- 由于实现了构建和装配的解耦。不同的构建器，相同的装配，也可以做出不同的对象；相同的构建器，不同的装配顺序也可以做出不同的对象。也就是实现了构建算法、装配算法的解耦，实现了更好的复用。

### 应用场景

- StringBuilder类中的append方法
- SQL中的PreparedStatement
- JDOM中，DomBuilder、SAXBuilder

### 具体代码

        package com.yishan.bulider;

        /**
        * 宇宙飞船
        * @author : yishan
        * @date : 2020-09-24 09:54
        */
        public class AirShip {
            private OrbitalModule orbitalModule; //轨道舱
            private Engine engine; //发动机
            private EscapeTower escapeTower; //逃逸塔

            public void launch(){
                System.out.println("发射！");
            }

            public OrbitalModule getOrbitalModule() {
                return orbitalModule;
            }

            public void setOrbitalModule(OrbitalModule orbitalModule) {
                this.orbitalModule = orbitalModule;
            }

            public Engine getEngine() {
                return engine;
            }

            public void setEngine(Engine engine) {
                this.engine = engine;
            }

            public EscapeTower getEscapeTower() {
                return escapeTower;
            }

            public void setEscapeTower(EscapeTower escapeTower) {
                this.escapeTower = escapeTower;
            }
        }


        class OrbitalModule{
            private String name;

            public OrbitalModule(String name) {
                this.name = name;
            }

            public String getName() {
                return name;
            }

            public void setName(String name) {
                this.name = name;
            }
        }

        class Engine{
            private String name;

            public Engine(String name) {
                this.name = name;
            }

            public String getName() {
                return name;
            }

            public void setName(String name) {
                this.name = name;
            }
        }

        class EscapeTower{
            private String name;

            public EscapeTower(String name) {
                this.name = name;
            }

            public String getName() {
                return name;
            }

            public void setName(String name) {
                this.name = name;
            }
        }



        package com.yishan.bulider;

        /**
        * 构建子组件的接口
        * @author : yishan
        * @date : 2020-09-24 10:06
        */
        public interface AirShipBuilder {
            Engine builderEngine();
            OrbitalModule builderOrbitalModule();
            EscapeTower builderEscapeTower();
        }




        package com.yishan.bulider;

        /**
        * 组装飞船对象的接口
        * @author : yishan
        * @date : 2020-09-24 10:08
        */
        public interface AirShipDirector {

            /**
            * 组装飞船对象
            * @return
            */
            AirShip directAirShip();
        }




        package com.yishan.bulider;

        /**
        * 构建者的实现类
        * @author : yishan
        * @date : 2020-09-24 10:11
        */
        public class SxtAirShipBuilder implements AirShipBuilder{ 
            //StringBuilder,以后学习XML解析中，JDOM库中的类：DomBuilder,SaxBuilder
            @Override
            public Engine builderEngine() {
                System.out.println("构建发动机");
                return new Engine("新构建的发动机");
            }

            @Override
            public OrbitalModule builderOrbitalModule() {
                System.out.println("构建逃逸塔");
                return new OrbitalModule("构建好的逃逸塔");
            }

            @Override
            public EscapeTower builderEscapeTower() {
                System.out.println("构建轨道舱");
                return new EscapeTower("构建好的轨道舱");
            }
        }




        package com.yishan.bulider;

        /**
        * 装配的实现类
        * @author : yishan
        * @date : 2020-09-24 10:18
        */
        public class SxtAirshipDirector implements AirShipDirector{

            private AirShipBuilder builder;

            public SxtAirshipDirector(AirShipBuilder builder) {
                this.builder = builder;
            }

            /**
            * 装配成为飞船对象
            * @return
            */
            @Override
            public AirShip directAirShip() {
                Engine e = builder.builderEngine();
                OrbitalModule o = builder.builderOrbitalModule();
                EscapeTower et = builder.builderEscapeTower();

                AirShip ship = new AirShip();
                ship.setEngine(e);
                ship.setOrbitalModule(o);
                ship.setEscapeTower(et);

                return ship;
            }
        }




        package com.yishan.bulider;

        /**
        * @author : yishan
        * @date : 2020-09-24 10:25
        */
        public class Client {
            public static void main(String[] args) {

                AirShipDirector director = new SxtAirshipDirector(new SxtAirShipBuilder());

                AirShip ship = director.directAirShip();

                System.out.println(ship.getEngine().getName());

                ship.launch();
            }
        }
