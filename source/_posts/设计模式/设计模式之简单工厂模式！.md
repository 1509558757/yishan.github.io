---
title: 设计模式之简单工厂模式！
date: 2020-09-16 16:17:36
tags: [java基础,设计模式]
---

### 工厂模式
<!--more-->
- 实现了创建者和调用者的分离
- 详细分类
    - 简单工厂模式
        - 用来生产同一等级结构中的任意产品。（对于增加新的产品，需要修改已有代码）
    - 工厂方法模式
        - 用来生产同一等级结构中的固定产品。（支持增加任意产品）
    - 抽象工厂模式
        - 用来生产不同产品族的全部产品。（对于增加新的产品，无能为力，支持增加产品族）

#### 面向对象设计的基本原则

- OCP（开闭原则，Open-Closed Principle）：一个软件的实体应当对扩展开放，对修改关闭。
- DIP（依赖倒转原则,Dependence Inversion Principle）：要针对接口编程，不要针对实现编程。
- LoD（迪米特法则,Law of Demeter）：只与你直接的朋友通信，而避免和陌生人通信

#### 核心本质

- 实例化对象，用工厂方法代替new操作
- 将选择实现类、创建对象统一管理和控制。从而将调用者跟我们的实现类解耦

## 简单工厂模式

- 要点
    - 简单工厂模式也叫静态工厂模式，就是工厂类一般使用静态方法，通过接收的参数的不同来返回不同的对象实例。
    - 对于增加新产品无能为力！不修改代码的话，是无法扩展的。


```java
    package com.yishan.factory.simplefactory;

    /**
    * 接口方法
    * @author : yishan
    * @date : 2020-09-16 16:31
    */
    public interface Car {
        void run();
    }
```


```java
    package com.yishan.factory.simplefactory;

    /**
    * @author : yishan
    * @date : 2020-09-16 16:32
    */
    public class Audi implements Car{
        @Override
        public void run() {
            System.out.println("奥迪再跑！");
        }
    }
```


```java
    package com.yishan.factory.simplefactory;

    /**
    * @author : yishan
    * @date : 2020-09-16 16:33
    */
    public class Byd implements Car{
        @Override
        public void run() {
            System.out.println("比亚迪再跑！");
        }
    }

    package com.yishan.factory.simplefactory;

    /**
    * 测试在没有工厂模式的情况下
    * @author : yishan
    * @date : 2020-09-16 16:35
    */
    public class Client01 { //调用者
        public static void main(String[] args) {
            Car c1 = new Audi();
            Car c2 = new Byd();

            c1.run();
            c2.run();
        }
    }
```




```java
    package com.yishan.factory.simplefactory;

    /**
    * 简单工厂模式的情况下
    * @author : yishan
    * @date : 2020-09-16 16:35
    */
    public class Client02 { //调用者
        public static void main(String[] args) {
            Car c1 = CarFactory.createCar("奥迪");
            Car c2 = CarFactory.createCar("比亚迪");

            c1.run();
            c2.run();
        }
    }
```




```java
    package com.yishan.factory.simplefactory;

    /**
    * 简单工厂类
    * @author : yishan
    * @date : 2020-09-16 16:51
    */
    public class CarFactory {

        public static Car createCar(String type){
            if("奥迪".equals(type)){
                return new Audi();
            }else if("比亚迪".equals(type)){
                return new Byd();
            }else{
                return null;
            }
        }
    }
```


```java
    package com.yishan.factory.simplefactory;

    /**
    * 简单工厂类
    * @author : yishan
    * @date : 2020-09-16 16:51
    */
    public class CarFactory02 {

        public static Car createAudi(){
            return new Audi();
        }
        public static Car createByd(){
            return new Byd();
        }
    }
```













